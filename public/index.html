<!DOCTYPE html>
<html lang="<?php echo Lang::active();?>">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />

    <title>SIDOME</title>

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
    <link href="css/stylesheets/public.css" rel="stylesheet" type="text/css" />

    <!--CSS for range-touch-->
    <link rel="stylesheet" href="https://cdn.rawgit.com/nelsonic/range-touch/master/optional/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>

    <script type="text/javascript" src="js/processing.js"></script>
    <script type="text/javascript" src="js/public.js"></script>

</head>
<body>
<div id="bodyFrame">
    <div class="wrapperAll">
        <div class="forms">

            <div class="form form1">
                <input type="text" class="input_userid" style="height:0px; width:1px; border:none;" onChange="getUser(this);" />
                <div class="accueil accueil1">

                    <img src="img/accueil.png" class="img-accueil" />
                </div>
                <div class="bienvenue bienvenue1">
                   
                    <h1><b>Bonjour <span class ="username" ></span> !</b></h1><br/><h1> Personnalisez votre SIdÔme </h1>
                    <script type="text/processing">


float xmag, ymag = 0;
float newXmag, newYmag = 0;
float a = 1.0;

void setup()  {
size(700, 700, WEBGL);
//colorMode(RGB, 1);
strokeWeight(3);
}

function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8, couleur){
if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                else
                                noFill();
                                if (couleur.r == 255 && couleur.g == 255 && couleur.b == 255)
                                stroke(255);
                                else
                                noStroke();
                                //noStroke();
                                //stroke(couleur.r, couleur.g, couleur.b);
                               // +Z "front" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
    }

void draw()  {

    var nodes = $(".form1").val().sidome.nodes;
    var color = $(".form1").val().sidome.color;

    pushMatrix();
    translate(width/2, height/2, -30);

    // ROTATION:
    a += 0.005;
    if(a > TWO_PI) {
    a = 0.0;
    }
    rotateX(a * 1.5);
    rotateY(a * 1.5);

    float diff = xmag-newXmag;
    if (abs(diff) >  0.01) {
    xmag -= diff/4.0;
    }

    diff = ymag-newYmag;
    if (abs(diff) >  0.01) {
    ymag -= diff/4.0;
    }

    background(0,0);
    /*stroke(#954595);*/
    stroke(255,255,255);
    scale(80);
    noFill();
    //fill(128,0,29,2);
    //lights();

    beginShape(QUADS);
  
    drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8, color);

    endShape();

    popMatrix();
    
}
</script>
                            <canvas></canvas>

                    <div class="buttons">
                            <div class="buttonsIns">
                                <div class="button go">GO !</div>
                            </div>
                    </div>
                </div>
                <form method="POST" action="" class="formSite">
                    <fieldset>
                        <input type="hidden" name="idSidoMe" value=""/>
                        <input type="hidden" class="questionHidden" name="question1" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question2" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question3" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question4" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question5" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question6" value="62.5"/>
                    </fieldset>
                </form>
                <div class="formIns">
                    <div class="sidomeImage">
                        <div class="sidomeImageIns">
                            <script type="text/processing">

float xmag, ymag = 0;
float newXmag, newYmag = 0;
float a = 1.0;

void setup()  {
    size(800, 800, WEBGL);
    /*fill(#BF6FBF);
    lights();*/
    //colorMode(RGB, 1);
    strokeWeight(3);
}

function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8, couleur) {
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                else
                                noFill();
                                if (couleur.r == 255 && couleur.g == 255 && couleur.b == 255)
                                stroke(255);
                                else
                                noStroke();
                                //noStroke();
                                //stroke(couleur.r, couleur.g, couleur.b);
                               // +Z "front" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
    }

void draw()  {

    var nodes = $(".form1").val().sidome.nodes;
    var color = $(".form1").val().sidome.color;

    pushMatrix();
    translate(width/2, height/2, -30);

    // ROTATION:
    a += 0.005;
    if(a > TWO_PI) {
    a = 0.0;
    }
    rotateX(a * 1.5);
    rotateY(a * 1.5);

    float diff = xmag-newXmag;
    if (abs(diff) >  0.01) {
    xmag -= diff/4.0;
    }

    diff = ymag-newYmag;
    if (abs(diff) >  0.01) {
    ymag -= diff/4.0;
    }

    background(0,0);
    /*stroke(#954595);*/
    stroke(255,255,255);
    scale(90);
    noFill();


    beginShape(QUADS);
  
    drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8, color);

  endShape();

    popMatrix();
    
}

</script>
                            <canvas class="keep-canvas keep-canvas1"></canvas>
                        </div>
                    </div>
                    <div class="wrapperSliders">
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>TRANSPORT ET GÉOLOCALISATION :</h2>
                                <div class="gauche">
                                    J’ai demandé ma route au<br/> premier lyonnais que j’ai <br/>croisé pour venir
                                </div><input type="range" class="slider custom" rel="1"><div class="droite">
                                    Impossible<br/>de me perdre pour aller</br>au SIdO avec baskets<br/> connectées
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SÉCURITÉ ET OPENDATA :</h2>
                                <div class="gauche">
                                    J’ai ressorti mon Nokia<br/> 3310 pour être <br/>tranquille
                                </div><input type="range" class="slider custom" rel="3"><div class="droite">
                                    J’aime que l’on sache<br/>où je suis
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>ÉCOLOGIE :</h2>
                                <div class="gauche">
                                    À la maison c’est<br/> toilettes sèches
                                </div><input type="range" class="slider custom" rel="4"><div class="droite">
                                    Mon bonsaï est nourri<br/>à la Data
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SPORT :</h2>
                                <div class="gauche">
                                    Pas besoin de coach<br/> personnel pour savoir<br/>que mes performances<br/>sont au top
                                </div><input type="range" class="slider custom" rel="5"><div class="droite">
                                    Mon smartphone</br>m’indique mes<br/>calories, je sais quand<br/>je dois aller courir
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>QUANTIFIED SELF :</h2>
                                <div class="gauche">
                                    J’ai rendez-vous chez mon <br/>médecin ce mois ci on<br/>verra si tout va bien
                                </div><input type="range" class="slider custom" rel="6"><div class="droite">
                                    Je ne tombe plus<br/>malade depuis que<br/>j’ai mon médecin<br/>dans la poche
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SURVEILLANCE :</h2>
                                <div class="gauche">
                                    Médor ne dort jamais
                                </div><input type="range" class="slider custom" rel="2"><div class="droite">
                                    Je suis connecté<br>24h/24 aux caméras<br/>de mon quartier
                                </div>
                            </div>
                        </div>
                        <div class="buttons">
                            <div class="buttonsIns">
                                <div class="button buttonStop">VALIDER</div>
                                <div class="clearer"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="remerciement remerciement1">
                    <script type="text/processing">


                       float xmag, ymag = 0;
                        float newXmag, newYmag = 0;
                        float a = 1.0;
                        int xmax = 950;
                        int ymax = 1070;
                        int xboule = xmax / 2;
                        int yboule = ymax / 3;
                        int xsido = xmax / 2;
                        int ysido = ymax / 3;
                        int xdis = 0;
                        int ydis = 0;

                        int degrem = 2;
                        int test = 0;
                        int cl1 = 220;
                        int cl2 = 90;
                        int cl3 = 40;
                        int blanco = 0;
                        int blancoi = 0;
                        int poscharge = 0;
                        int click = 0;
                        int coloration = 0;
                        
                        int cpppt = 0;
                        int cppt = 0;
                        int compteur;
                        int ajustblanc = 15;

                        int posx = xmax / 2;
                        int posy = ymax / 3;
                        
                        float rotati = 0.005;

                        float changecl11 = -1.6;//(80 / 50);
                        float changecl21 = -1.4;//(70 / 50);
                        float changecl31 = +1;//(50 / 50);
                        float changecl12 = -1.83333333;//(110 / 60);
                        float changecl22 = +1;//(60 / 60);
                        float changecl32 = +1.16666667;//(70 / 60);
                        int change = 1;
                        
                        void setup()  {
                        size(xmax, ymax, WEBGL);
                        //lights();
                        //colorMode(RGB, 1);
                        strokeWeight(3);
                        }

                        function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8) {
                                fill(cl1, cl2, cl3);
                                //stroke(0);
                                noStroke();
                                //stroke(255);
                                //stroke(cl1, cl2, cl3);
                               // +Z "front" face
                                fill(cl1, cl2, cl3);
                                vertex(v1.x, v1.y, v1.z); // v1
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                fill(cl1, cl2, cl3);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                fill(cl1, cl2, cl3);
                                vertex(v4.x, v4.y, v4.z); // v4
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                fill(cl1, cl2, cl3);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                fill(cl1, cl2, cl3);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                fill(cl1, cl2, cl3);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
                            }
                            
                        void    angry(float x, float y){
                            int xpos = xmax / 2;
                            int ypos = ymax / 3;
                            int xecart = (x - xpos) / 14;
                            int yecart = (y - ypos) / 14;
                            int cpt = 15;
                            stroke(255);
                            
                            while (cpt-- != 0){
                            ellipse(xpos, ypos, 7, 7);
                            ypos += yecart;
                            xpos += xecart;
                            }
                        }

                        void    couleur(){
                          if (change == 1)
                            {
                             cl1 += changecl11;
                             cl2 += changecl21;
                             cl3 += changecl31;
                            if ((cl1 < 140 || cl2 < 20 || cl3 > 90) && changecl31 > 0)
                              change = 2;
                            else if ((cl1 > 220 || cl2 > 90 || cl3 < 40) && changecl31 < 0)
                                {
                                changecl11 = -changecl11;
                                changecl12 = -changecl12;
                                changecl21 = -changecl21;
                                changecl22 = -changecl22;
                                changecl31 = -changecl31;
                                changecl32 = -changecl32;  
                                }
                            }
                          else if (change == 2)
                            {
                             cl1 += changecl12;
                             cl2 += changecl22;
                             cl3 += changecl32;
                            if ((cl1 < 30 || cl2 > 80 || cl3 > 160) && changecl31 > 0)
                              {
                                changecl11 = -changecl11;
                                changecl12 = -changecl12;
                                changecl21 = -changecl21;
                                changecl22 = -changecl22;
                                changecl31 = -changecl31;
                                changecl32 = -changecl32;
                              }
                              else if ((cl1 > 140 || cl2 < 20 || cl3 < 90) && changecl31 < 0)
                              {
                               change = 1; 
                              }
                            }
                        }

                        void draw()  {
//println(click);

                             //println("x = " +posx);
                             //println("y = " +posy);
                            background(0);
                            stroke (255);
                            fill(255);
                            
                            var nodes = $(".form1").val().sidome.nodes;
                            
                            //couleur();
                            pushMatrix();
                            translate(posx, posy, -30);
                            
                            // ROTATION:
                            a += rotati;
                            if(a > TWO_PI || a <= 0) {
                            rotati = -rotati;
                            }
                            rotateX(a * 0.5);
                            rotateY(a * 0.5);
                            
                            
                            float diff = xmag-newXmag;
                            if (abs(diff) >  0.01) {
                            xmag -= diff/4.0;
                            }

                            diff = ymag-newYmag;
                            if (abs(diff) >  0.01) {
                            ymag -= diff/4.0;
                            }

                            /*stroke(#954595);*/
                            //stroke(cl1, cl2, cl3);
                            noStroke();
                            scale(50);
                            //noFill();
                            
                            beginShape(QUADS);
                            
                            drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8);

                          endShape();

                            popMatrix();
                            //rect(0, 0, width, height);
                            if (click == 1){
                                fill(255);
                                if (posy > ysido + 50)
                                angry(posx, posy);
                                fill(cl1, cl2, cl3);
                            }
                            else if (xdis == 0 && ydis == 0)
                            {
                                //fill(blanco);
                                compteur = 13;
                                blanco = blancoi;
                                while (compteur != 1)
                                    {
                                        fill(255 - blanco);
                                        blanco = blanco + ajustblanc;
                                        if (blanco >= 180 || blanco < 0)
                                            blanco = 0;
                                        ellipse (xmax / 2, ymax / 2 + compteur * 40, 10, 10);
                                        compteur--;
                                    }
                                    cppt++;
                                    if (cppt == 10)
                                    {
                                    blancoi = blancoi + ajustblanc;
                                        if (blancoi >= 180 || blancoi < 0)
                                            blancoi = 0;
                                        cppt = 0;
                                    }
                            }
                            
                            if (coloration == 0)
                                couleur();  
                            posx -= xdis;
                            posy -= ydis;
                            if (posx + 150 < 0 || posy + 150 < 0 || posx - 150 > width || posy - 150 > height)
                            {
                                //kill();
                                var c = $(".remerciement-canvas1");
                                
                                $(c).parents(".remerciement").hide( "blind", 0 );
                                $(c).parents(".form").children(".bye-bye").show( "clip", 2000 );

                                setTimeout(function(event) {
                                   reinitialisation(c);
                                }, 5000); 
                                
                                setTimeout(function(event) {
                                    changecl11 = -1.6;//(80 / 50);
                                    changecl21 = -1.4;//(70 / 50);
                                    changecl31 = +1;//(50 / 50);
                                    changecl12 = -1.83333333;//(110 / 60);
                                    changecl22 = +1;//(60 / 60);
                                    changecl32 = +1.16666667;//(70 / 60);
                                    change = 1;
                                    coloration = 0;
                                    xmag = 0;
                                    ymag = 0;
                                    newXmag = 0;
                                    newYmag = 0;
                                    a = 1.0;
                                    xmax = 950;
                                    ymax = 1070;
                                    xboule = xmax / 2;
                                    yboule = ymax / 3;
                                    xsido = xmax / 2;
                                    ysido = ymax / 3;
                                    xdis = 0;
                                    ydis = 0;
                                    posx = xmax / 2;
                                    posy = ymax / 3;
                                    degrem = 2;
                                    test = 0;
                                    cl1 = 220;
                                    cl2 = 90;
                                    cl3 = 40;
                                    click = 0;
                                }, 1000); 
                                
                            }
                        }

                        void controlPress(float x, float y) {
                            if (x < xboule + 80 && x > xboule - 80 && y < yboule + 80 && y > yboule - 80){
                                click = 1;
                                //angry(x, y);
                                xboule = x;
                                yboule = y;        
                                }
                            }

                        void controlMove(float x, float y) {
                             if (x != 0 && y != 0){
                                posx = x;
                                posy = y;
                                click = 1;
                                }
                        }

                        void controlReleased(float x, float y) {
                       //     if (y > ysido + 50 && click == 1){
                                xsido = posx;
                                ysido = posy;
                                xdis = (posx - width / 2) / 13;
                                ydis = (posy - height / 3) / 13;
                                coloration = 1;

                                var colorSidome = $(".form1").val().sidome.color;
                                colorSidome.r = cl1;
                                colorSidome.g = cl2;
                                colorSidome.b = cl3;
                                $(".form1").val().sidome.default = false;

                                putSidome($(".form1").val().sidome);
                           // }
                            click = 0;
                        }

                        void touchStart(TouchEvent t) {
                         for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlPress(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                        void touchMove(TouchEvent t) {
                          for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlMove(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                        void touchEnd(TouchEvent t) {
                          for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlReleased(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                    </script>
                    <canvas class="remerciement-canvas remerciement-canvas1"></canvas>
                </div>
                <div class="bye-bye bye-bye1">
                     <div><h1>Bravo ! <br/><br/>Vous avez envoyé votre<br/><br/>SIdÔme dans la<br/><br/>SIdOsphère !</h1></div>
                </div>
            </div>
            <div class="separation"></div>
            <div class="form form2">
                <div class="accueil accueil2">
                    <img src="img/accueil.png" class="img-accueil" />
                </div>
                <div class="bienvenue bienvenue2">
                    <h1><b>Bonjour <span class ="username" ></span> !</b></h1><br/><h1> Personnalisez votre SIdÔme </h1>
                    <script type="text/processing">


float xmag, ymag = 0;
float newXmag, newYmag = 0;
float a = 1.0;

void setup()  {
size(700, 700, WEBGL);
//colorMode(RGB, 1);
strokeWeight(3);
}

function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8, couleur) {if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                else
                                noFill();
                                if (couleur.r == 255 && couleur.g == 255 && couleur.b == 255)
                                stroke(255);
                                else
                                noStroke();
                                //noStroke();
                                //stroke(couleur.r, couleur.g, couleur.b);
                               // +Z "front" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
    }

void draw()  {

    var nodes = $(".form2").val().sidome.nodes;
    var color = $(".form2").val().sidome.color;

    pushMatrix();
    translate(width/2, height/2, -30);

    // ROTATION:
    a += 0.005;
    if(a > TWO_PI) {
    a = 0.0;
    }
    rotateX(a * 1.5);
    rotateY(a * 1.5);

    float diff = xmag-newXmag;
    if (abs(diff) >  0.01) {
    xmag -= diff/4.0;
    }

    diff = ymag-newYmag;
    if (abs(diff) >  0.01) {
    ymag -= diff/4.0;
    }

    background(0,0);
    /*stroke(#954595);*/
    stroke(255,255,255);
    scale(80);
    noFill();


    beginShape(QUADS);
  
    drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8, color);

  endShape();

    popMatrix();
    
}
</script>
                            <canvas></canvas>
                    <div class="buttons">
                            <div class="buttonsIns">
                                <div class="button go">GO !</div>
                            </div>
                    </div>
                </div>

                <form method="POST" action="" class="formSite">
                    <fieldset>
                        <input type="hidden" name="idSidoMe" value=""/>
                        <input type="hidden" class="questionHidden" name="question1" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question2" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question3" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question4" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question5" value="62.5"/>
                        <input type="hidden" class="questionHidden" name="question6" value="62.5"/>
                    </fieldset>
                </form>
                <div class="formIns">                 
                    <div class="sidomeImage">
                        <div class="sidomeImageIns">
                            <script type="text/processing">


float xmag, ymag = 0;
float newXmag, newYmag = 0;
float a = 1.0;

void setup()  {
size(800, 800, WEBGL);
//colorMode(RGB, 1);
strokeWeight(3);
}

function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8, couleur) {
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                else
                                noFill();
                                if (couleur.r == 255 && couleur.g == 255 && couleur.b == 255)
                                stroke(255);
                                else
                                noStroke();
                                //noStroke();
                                //stroke(couleur.r, couleur.g, couleur.b);
                               // +Z "front" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v2.x, v2.y, v2.z); // v2
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r, couleur.g, couleur.b);
                                vertex(v6.x, v6.y, v6.z); // v6
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 20, couleur.g - 20, couleur.b - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 30, couleur.g - 30, couleur.b - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                if (couleur.r != 255 && couleur.g != 255 && couleur.b != 255)
                                fill(couleur.r - 40, couleur.g - 40, couleur.b - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
    }

void draw()  {

    var nodes = $(".form2").val().sidome.nodes;
    var color = $(".form2").val().sidome.color;

    pushMatrix();
    translate(width/2, height/2, -30);

    // ROTATION:
    a += 0.005;
    if(a > TWO_PI) {
    a = 0.0;
    }
    rotateX(a * 1.5);
    rotateY(a * 1.5);

    float diff = xmag-newXmag;
    if (abs(diff) >  0.01) {
    xmag -= diff/4.0;
    }

    diff = ymag-newYmag;
    if (abs(diff) >  0.01) {
    ymag -= diff/4.0;
    }

    background(0,0);
    /*stroke(#954595);*/
    stroke(255,255,255);
    scale(90);
    noFill();


    beginShape(QUADS);
  
    drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8, color);

  endShape();

    popMatrix();
    
}
</script>
                            <canvas class="keep-canvas keep-canvas2"></canvas>
                        </div>
                    </div>
                    <div class="wrapperSliders">
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>TRANSPORT ET GÉOLOCALISATION :</h2>
                                <div class="gauche">
                                    J’ai demandé ma route au <br/>premier lyonnais que j’ai <br/>croisé pour venir
                                </div><input type="range" class="slider custom" rel="1"><div class="droite">
                                    Impossible<br/>de me perdre pour aller</br>au SIdO avec baskets <br/>connectées
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SÉCURITÉ ET OPENDATA :</h2>
                                <div class="gauche">
                                    J’ai ressorti mon Nokia<br/> 3310 pour être<br/> tranquille
                                </div><input type="range" class="slider custom" rel="3"><div class="droite">
                                    J’aime que l’on sache<br/>où je suis
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>ÉCOLOGIE :</h2>
                                <div class="gauche">
                                    À la maison c’est <br/>toilettes sèches
                                </div><input type="range" class="slider custom" rel="4"><div class="droite">
                                    Mon bonsaï est nourri<br/>à la Data
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SPORT :</h2>
                                <div class="gauche">
                                    Pas besoin de coach<br/> personnel pour savoir<br/>que mes performances<br/>sont au top
                                </div><input type="range" class="slider custom" rel="5"><div class="droite">
                                    Mon smartphone</br>m’indique mes<br/>calories, je sais quand<br/>je dois aller courir
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>QUANTIFIED SELF :</h2>
                                <div class="gauche">
                                    J’ai rendez-vous chez mon<br/> médecin ce mois ci on <br/>verra si tout va bien
                                </div><input type="range" class="slider custom" rel="6"><div class="droite">
                                    Je ne tombe plus<br/>malade depuis que<br/>j’ai mon médecin<br/>dans la poche
                                </div>
                            </div>
                        </div>
                        <div class="sliderSection">
                            <div class="sliderSectionIns">
                                <h2>SURVEILLANCE :</h2>
                                <div class="gauche">
                                    Médor ne dort jamais
                                </div><input type="range" class="slider custom" rel="2"><div class="droite">
                                    Je suis connecté<br>24h/24 aux caméras<br/>de mon quartier
                                </div>
                            </div>
                        </div>
                        <div class="buttons">
                            <div class="buttonsIns">
                                <div class="button buttonStop">VALIDER</div>
                                <div class="clearer"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="remerciement remerciement2">
                    <script type="text/processing">


                      float xmag, ymag = 0;
                        float newXmag, newYmag = 0;
                        float a = 1.0;
                        int xmax = 950;
                        int ymax = 1070;
                        int xboule = xmax / 2;
                        int yboule = ymax / 3;
                        int xsido = xmax / 2;
                        int ysido = ymax / 3;
                        int xdis = 0;
                        int ydis = 0;

                        int degrem = 2;
                        int test = 0;
                        int cl1 = 220;
                        int cl2 = 90;
                        int cl3 = 40;
                        int blanco = 0;
                        int blancoi = 0;
                        int poscharge = 0;
                        int click = 0;
                        int coloration = 0;
                        
                        int cpppt = 0;
                        int cppt = 0;
                        int compteur;
                        int ajustblanc = 15;

                        int posx = xmax / 2;
                        int posy = ymax / 3;
                        
                        float rotati = 0.005;

                        float changecl11 = -1.6;//(80 / 50);
                        float changecl21 = -1.4;//(70 / 50);
                        float changecl31 = +1;//(50 / 50);
                        float changecl12 = -1.83333333;//(110 / 60);
                        float changecl22 = +1;//(60 / 60);
                        float changecl32 = +1.16666667;//(70 / 60);
                        int change = 1;
                        
                        void setup()  {
                        size(xmax, ymax, WEBGL);
                        //lights();
                        //colorMode(RGB, 1);
                        strokeWeight(3);
                        }

                        function drawPoints(v1, v2, v3, v4, v5, v6, v7, v8) {
                                fill(cl1, cl2, cl3);
                                //stroke(0);
                                noStroke();
                                //stroke(255);
                                //stroke(cl1, cl2, cl3);
                               // +Z "front" face
                                fill(cl1, cl2, cl3);
                                vertex(v1.x, v1.y, v1.z); // v1
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v3.x, v3.y, v3.z); // v3
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v4.x, v4.y, v4.z); // v4
                         
                                // -Z "back" face
                                fill(cl1, cl2, cl3);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v7.x, v7.y, v7.z); // v7
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v8.x, v8.y, v8.z); // v8
                         
                                // +Y "bottom" face
                                fill(cl1, cl2, cl3);
                                vertex(v4.x, v4.y, v4.z); // v4
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v3.x, v3.y, v3.z); // v3
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                         
                                // -Y "top" face
                                fill(cl1, cl2, cl3);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v1.x, v1.y, v1.z); // v1
                         
                                // +X "right" face
                                fill(cl1, cl2, cl3);
                                vertex(v2.x, v2.y, v2.z); // v2
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v5.x, v5.y, v5.z); // v5
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v8.x, v8.y, v8.z); // v8
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v3.x, v3.y, v3.z); // v3
                         
                                // -X "left" face
                                fill(cl1, cl2, cl3);
                                vertex(v6.x, v6.y, v6.z); // v6
                                fill(cl1 - 20, cl2 - 20, cl3 - 20);
                                vertex(v1.x, v1.y, v1.z); // v1
                                fill(cl1 - 30, cl2 - 30, cl3 - 30);
                                vertex(v4.x, v4.y, v4.z); // v4
                                fill(cl1 - 40, cl2 - 40, cl3 - 40);
                                vertex(v7.x, v7.y, v7.z); // v7
                                //noFill();
                            }
                            
                        void    angry(float x, float y){
                            int xpos = xmax / 2;
                            int ypos = ymax / 3;
                            int xecart = (x - xpos) / 14;
                            int yecart = (y - ypos) / 14;
                            int cpt = 15;
                            stroke(255);
                            
                            while (cpt-- != 0){
                            ellipse(xpos, ypos, 7, 7);
                            ypos += yecart;
                            xpos += xecart;
                            }
                        }

                        void    couleur(){
                          if (change == 1)
                            {
                             cl1 += changecl11;
                             cl2 += changecl21;
                             cl3 += changecl31;
                            if ((cl1 < 140 || cl2 < 20 || cl3 > 90) && changecl31 > 0)
                              change = 2;
                            else if ((cl1 > 220 || cl2 > 90 || cl3 < 40) && changecl31 < 0)
                                {
                                changecl11 = -changecl11;
                                changecl12 = -changecl12;
                                changecl21 = -changecl21;
                                changecl22 = -changecl22;
                                changecl31 = -changecl31;
                                changecl32 = -changecl32;  
                                }
                            }
                          else if (change == 2)
                            {
                             cl1 += changecl12;
                             cl2 += changecl22;
                             cl3 += changecl32;
                            if ((cl1 < 30 || cl2 > 80 || cl3 > 160) && changecl31 > 0)
                              {
                                changecl11 = -changecl11;
                                changecl12 = -changecl12;
                                changecl21 = -changecl21;
                                changecl22 = -changecl22;
                                changecl31 = -changecl31;
                                changecl32 = -changecl32;
                              }
                              else if ((cl1 > 140 || cl2 < 20 || cl3 < 90) && changecl31 < 0)
                              {
                               change = 1; 
                              }
                            }
                        }

                        void draw()  {
//println(click);

                             //println("x = " +posx);
                             //println("y = " +posy);
                            background(0);
                            stroke (255);
                            fill(255);
                            
                            var nodes = $(".form2").val().sidome.nodes;
                            
                            //couleur();
                            pushMatrix();
                            translate(posx, posy, -30);
                            
                            // ROTATION:
                            a += rotati;
                            if(a > TWO_PI || a <= 0) {
                            rotati = -rotati;
                            }
                            rotateX(a * 0.5);
                            rotateY(a * 0.5);
                            
                            
                            float diff = xmag-newXmag;
                            if (abs(diff) >  0.01) {
                            xmag -= diff/4.0;
                            }

                            diff = ymag-newYmag;
                            if (abs(diff) >  0.01) {
                            ymag -= diff/4.0;
                            }

                            /*stroke(#954595);*/
                            //stroke(cl1, cl2, cl3);
                            noStroke();
                            scale(50);
                            //noFill();
                            
                            beginShape(QUADS);
                            
                            drawPoints(nodes.node1, nodes.node2, nodes.node3, nodes.node4, nodes.node5, nodes.node6, nodes.node7, nodes.node8);

                          endShape();

                            popMatrix();
                            //rect(0, 0, width, height);
                            if (click == 1){
                                fill(255);
                                if (posy > ysido + 50)
                                angry(posx, posy);
                                fill(cl1, cl2, cl3);
                            }
                            else if (xdis == 0 && ydis == 0)
                            {
                                //fill(blanco);
                                compteur = 13;
                                blanco = blancoi;
                                while (compteur != 1)
                                    {
                                        fill(255 - blanco);
                                        blanco = blanco + ajustblanc;
                                        if (blanco >= 180 || blanco < 0)
                                            blanco = 0;
                                        ellipse (xmax / 2, ymax / 2 + compteur * 40, 10, 10);
                                        compteur--;
                                    }
                                    cppt++;
                                    if (cppt == 10)
                                    {
                                    blancoi = blancoi + ajustblanc;
                                        if (blancoi >= 180 || blancoi < 0)
                                            blancoi = 0;
                                        cppt = 0;
                                    }
                            }
                            
                            if (coloration == 0)
                                couleur();  
                            posx -= xdis;
                            posy -= ydis;
                            if (posx + 150 < 0 || posy + 150 < 0 || posx - 150 > width || posy - 150 > height)
                            {
                                //kill();
                                var c = $(".remerciement-canvas2");
                                
                                $(c).parents(".remerciement").hide( "blind", 0 );
                                $(c).parents(".form").children(".bye-bye").show( "clip", 2000 );

                                setTimeout(function(event) {
                                   reinitialisation(c);
                                }, 5000); 
                                
                                setTimeout(function(event) {
                                    changecl11 = -1.6;//(80 / 50);
                                    changecl21 = -1.4;//(70 / 50);
                                    changecl31 = +1;//(50 / 50);
                                    changecl12 = -1.83333333;//(110 / 60);
                                    changecl22 = +1;//(60 / 60);
                                    changecl32 = +1.16666667;//(70 / 60);
                                    change = 1;
                                    coloration = 0;
                                    xmag = 0;
                                    ymag = 0;
                                    newXmag = 0;
                                    newYmag = 0;
                                    posx = xmax / 2;
                                    posy = ymax / 3;
                                    a = 1.0;
                                    xmax = 950;
                                    ymax = 1070;
                                    xboule = xmax / 2;
                                    yboule = ymax / 3;
                                    xsido = xmax / 2;
                                    ysido = ymax / 3;
                                    xdis = 0;
                                    ydis = 0;

                                    degrem = 2;
                                    test = 0;
                                    cl1 = 220;
                                    cl2 = 90;
                                    cl3 = 40;
                                    click = 0;
                                }, 1000); 
                                
                            }
                        }

                        void controlPress(float x, float y) {
                            if (x < xboule + 80 && x > xboule - 80 && y < yboule + 80 && y > yboule - 80){
                                click = 1;
                                //angry(x, y);
                                xboule = x;
                                yboule = y;        
                                }
                            }

                        void controlMove(float x, float y) {
                             if (x != 0 && y != 0){
                                posx = x;
                                posy = y;
                                click = 1;
                                }
                        }

                        void controlReleased(float x, float y) {
                           if (y > ysido + 50 && click == 1){
                                xsido = posx;
                                ysido = posy;
                                xdis = (posx - width / 2) / 13;
                                ydis = (posy - height / 3) / 13;
                                coloration = 1;

                                var colorSidome = $(".form2").val().sidome.color;
                                colorSidome.r = cl1;
                                colorSidome.g = cl2;
                                colorSidome.b = cl3;
                                $(".form2").val().sidome.default = false;

                                putSidome($(".form2").val().sidome);
                            }
                            click = 0;
                        }

                        void touchStart(TouchEvent t) {
                         for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlPress(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                        void touchMove(TouchEvent t) {
                          for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlMove(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                        void touchEnd(TouchEvent t) {
                          for (int i = 0; i < t.changedTouches.length;i++) 
                          {
                          if(t.changedTouches[i].offsetX > 0 && t.changedTouches[i].offsetX < xmax && t.changedTouches[i].offsetY > 0 && t.changedTouches[i].offsetY < ymax)
                            controlReleased(t.changedTouches[i].offsetX, t.changedTouches[i].offsetY);
                          }
                        }
                    </script>
                    <canvas class="remerciement-canvas remerciement-canvas2"></canvas>
                </div>
                <div class="bye-bye bye-bye2">
                     <div><h1>Bravo ! <br/><br/>Vous avez envoyé votre<br/><br/>SIdÔme dans la<br/><br/>SIdOsphère !</h1></div>
                </div>
            </div>
            <div class="clearer"></div>
        </div>
    </div>
</div>
</body>
</html>
